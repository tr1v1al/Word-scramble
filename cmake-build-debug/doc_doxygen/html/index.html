<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Práctica 5. Juego de las Letras - Solver: Cifras y letras</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Práctica 5. Juego de las Letras - Solver
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Cifras y letras </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Rodríguez Cao, Eduardo </dd>
<dd>
Ruiz Aguilar, Manuel </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Diciembre de 2021</dd></dl>
<hr  />
<h1><a class="anchor" id="autotoc_md0"></a>
Índice</h1>
<ol type="1">
<li><a class="el" href="index.html#Introducción">Introducción</a></li>
<li><a class="el" href="index.html#Encabezados">Encabezados</a><ul>
<li><a class="el" href="index.html#Lista">Lista</a></li>
<li><a class="el" href="index.html#Uso">Uso</a></li>
</ul>
</li>
<li><a class="el" href="index.html#Eficiencia">Eficiencia</a><ul>
<li><a class="el" href="index.html#wordHasLetters">wordHasLetters</a></li>
<li><a class="el" href="index.html#getScore">getScore</a></li>
<li><a class="el" href="index.html#wordsOfLength">wordsOfLength</a></li>
<li><a class="el" href="index.html#Solver">Solver</a></li>
<li><a class="el" href="index.html#getSolutions">getSolutions</a></li>
</ul>
</li>
<li><a class="el" href="index.html#Ejecutable">Ejecutable</a><ul>
<li><a class="el" href="index.html#Partida_letras">Partida_letras</a></li>
</ul>
</li>
</ol>
<hr  />
<h1><a class="anchor" id="Introducción"></a>
Introducción</h1>
<p>En este proyecto se han desarrollado herramientas que podrían ser útiles para el juego de "cifras y letras". Nos centraremos de momento en la prueba de las letras.</p>
<p>Esta parte del juego consiste en formar la mejor palabra posible (dependiendo de uno de los dos criterios que explicamos a continuación) a partir de un conjunto de letras extraídas al azar de una bolsa. Por ejemplo, dadas las siguientes letras:</p>
<p>O D Y R M E T</p>
<p>Una buena solución posible sería METRO. El número de letras que se juegan en cada partida se decide de antemano, y las letras disponibles pueden repetirse. Existen dos modalidades de juego:</p>
<ul>
<li>Juego a longitud: En este modo de juego, se tiene en cuenta sólo la longitud de las palabras, y gana la palabra más larga encontrada.</li>
<li>Juego a puntos: En este modo de juego, a cada letra se le asigna una puntuación, y la puntuación de la palabra será igual a la suma de las puntuaciones de las letras que la componen.</li>
</ul>
<p>En esta primera práctica, estudiaremos qué información necesitamos almacenar, y cuál es la forma más adecuada de almacenarla, para poder jugar una partida al juego de las letras.</p>
<hr  />
<h1><a class="anchor" id="Encabezados"></a>
Encabezados</h1>
<h2><a class="anchor" id="Lista"></a>
Lista</h2>
<ul>
<li><a class="el" href="letters__set_8h.html" title="Archivo de especificación del TDA LettersSet.">letters_set.h</a></li>
<li><a class="el" href="bag_8h.html" title="Archivo de especificación del TDA Bag.">bag.h</a></li>
<li><a class="el" href="letters__bag_8h.html" title="Archivo de especificación del TDA LettersBag.">letters_bag.h</a></li>
<li><a class="el" href="dictionary_8h.html" title="Archivo de especificación del TDA Dictionary.">dictionary.h</a></li>
<li><a class="el" href="solver_8h.html" title="Archivo de declaración de la clase Solver.">solver.h</a></li>
</ul>
<h2><a class="anchor" id="Uso"></a>
Uso</h2>
<p>● <a class="el" href="letters__set_8h.html" title="Archivo de especificación del TDA LettersSet.">letters_set.h</a> : Esta estructura de datos nos va a permitir almacenar la información de un conjunto de letras, del modo en el que las necesitaremos en una partida de las letras. En concreto, en una partida de letras, para cada letra disponible, necesitaremos saber:</p>
<ul>
<li>El número total de repeticiones de la letra.</li>
<li>La puntuación que nos aporta cada letra al utilizarla en una palabra.</li>
</ul>
<p>● <a class="el" href="bag_8h.html" title="Archivo de especificación del TDA Bag.">bag.h</a> : Este TDA funciona como una bolsa de caracteres. Esto quiere decir que es una colección que puede contener caracteres y nos permite extraerlos aleatoriamente y sin reemplazamiento.</p>
<p>Ahora, podemos pensar en que este contenedor no tendría por qué tener elementos de tipo char necesariamente. Podría contener números, palabras completas, structs de cualquier tipo, objetos de cualquier clase que hubiéramos implementado…</p>
<p>● <a class="el" href="letters__bag_8h.html" title="Archivo de especificación del TDA LettersBag.">letters_bag.h</a>: Es una bolsa de caracteres a partir de <a class="el" href="bag_8h.html" title="Archivo de especificación del TDA Bag.">bag.h</a>, que además puede interpretar la información de un objeto de la clase <a class="el" href="letters__set_8h.html" title="Archivo de especificación del TDA LettersSet.">letters_set.h</a>, y crear una bolsa asociada que tenga tantas letras como en el <a class="el" href="classLettersSet.html" title="TDA LettersSet.">LettersSet</a>, y con las repeticiones adecuadas. Además, una vez construida la bolsa de letras, podemos extraer letras aleatorias de la misma.</p>
<p>La forma de determinar las letras que tendremos disponibles para una partida de las letras será construir una bolsa como esta y extraer aleatoriamente un número de letras determinado de ella.</p>
<p>● <a class="el" href="dictionary_8h.html" title="Archivo de especificación del TDA Dictionary.">dictionary.h</a>: Contenedor de los términos aceptados de la partida, una estructura que nos permite almacenar strings, sin necesidad de almacenar información más compleja. Además, el conjunto tiene dos propiedades específicas:</p>
<ul>
<li>Los elementos están ordenados por orden alfabético. Tiene mucho sentido que, en un diccionario, los elementos se ordenen de esta manera, y no en otro orden, independientemente del orden en que se hayan insertado.</li>
<li>Los elementos no se deben repetir. Estamos manteniendo una lista de palabras de un idioma, no nos interesa tener palabras repetidas, sino saber simplemente qué palabras pertenecen al mismo.</li>
</ul>
<p>● <a class="el" href="solver_8h.html" title="Archivo de declaración de la clase Solver.">solver.h</a>: Clase para resolver una partida de Cifras y letras.</p>
<p>Se consigue un vector de palabras enlazadas con su puntuación las palabras de un TDA <a class="el" href="classDictionary.html">Dictionary</a>; las palabras aceptadas en la partida; que se puedan formar como combinación de un subconjunto de las letras de un TDA <a class="el" href="classLettersSet.html" title="TDA LettersSet.">LettersSet</a>; información de letras aceptadas (repeticiones y puntuación); cuyas puntuaciones vendrán dadas por la longitud máxima o la máxima suma de puntuación de cada letra para cada palabra, según se elija (la puntuación devuelta en cada palabra debe tener el mismo valor, ya que se devuelve más de un elemento en el vector si existen palabras que comparten la puntuación máxima).</p>
<hr  />
<h1><a class="anchor" id="Eficiencia"></a>
Eficiencia</h1>
<p>Eficiencia de los métodos de <a class="el" href="solver_8h.html" title="Archivo de declaración de la clase Solver.">solver.h</a> y los métodos de otras TDAs utilizadas en <a class="el" href="solver_8h.html" title="Archivo de declaración de la clase Solver.">solver.h</a>:</p>
<p>(suponemos métodos de vector y string usados O(1) )</p>
<h2><a class="anchor" id="wordHasLetters"></a>
wordHasLetters</h2>
<p>( de <a class="el" href="solver_8h.html" title="Archivo de declaración de la clase Solver.">solver.h</a>)</p>
<p>Es O(n²), donde n es el número de letras en letters. El interior del bucle while interior es O(1), de tal forma que el propio while interior es O(n) y en el peor caso, donde word tiene todas las letras o más y es de longitud n o más, el while interior reduce las iteraciones en una en cada iteración del while exterior y para cuando el vector auxiliar (copia de las letras introducidas) queda vacío o se comprueba que todas las letras están en word, las iteraciones terminan (Sum de i=0 a n de n-i) = (Sum de i=0 a n de i) = n+n-1+n-2+...+n-(n-1)+n-n = (n+1)*n - (Sum de i=0 a n de i) despejando queda:</p>
<p>(n+1)*n/2 = (Sum de i=0 a n de i) = (Sum de i=0 a n de n-i) --&gt; O(n²)</p>
<h2><a class="anchor" id="getScore"></a>
getScore</h2>
<p>( de <a class="el" href="letters__set_8h.html" title="Archivo de especificación del TDA LettersSet.">letters_set.h</a> )</p>
<p>Recorre todo el string, y suma la puntuación de cada letra para obtener el resultado de una palabra por puntuación. Llamando n al tamaño del string introducido, como el cuerpo del bucle es O(1), getScore es O(n).</p>
<h2><a class="anchor" id="wordsOfLength"></a>
wordsOfLength</h2>
<p>( de <a class="el" href="dictionary_8h.html" title="Archivo de especificación del TDA Dictionary.">dictionary.h</a> )</p>
<p>Recorre todo el diccionario, y añade al vector resultante cada palabra de longitud igual a la introducida. Llamando r al tamaño del diccionario que llama al método, como el cuerpo del bucle es O(1) ya que es una condición donde llama a length de un string y en caso afirmativo añadir al final del vector resultante una palabra, wordsOfLength es O(r).</p>
<h2><a class="anchor" id="Solver"></a>
Solver</h2>
<p>Constructor por parámetros de la clase <a class="el" href="classSolver.html" title="Clase Solver.">Solver</a>. Solo inicializa _dict y _ls con los parámetros, O(1).</p>
<h2><a class="anchor" id="getSolutions"></a>
getSolutions</h2>
<p>( de <a class="el" href="solver_8h.html" title="Archivo de declaración de la clase Solver.">solver.h</a>)</p>
<p>·En caso de elegir jugar por puntuación, recorremos toda el diccionario _dict y dentro del bucle a cada palabra le aplicamos <a class="el" href="index.html#wordHasLetters">wordHasLetters</a> como condición. En caso afirmativo, se usa <a class="el" href="index.html#getScore">getScore</a> para calcular la suma de la puntuación de sus letras, que se compara con la máxima puntuación registrada y si es igual se añade al vector, si es mayor se reinicia el vector con él.</p>
<p>Llamando r al tamaño de _dict, n el número de letras del vector parámetro available_letters y suponiendo como peor caso que los strings tienen como longitud n, y además siendo cada palabra en _dict menor en puntuación que la siguiente:</p>
<p>r*(n²+n)--&gt; O(rn²) que al ser fijo el diccionario interno, O(n²).</p>
<p>·En caso de elegir jugar por longitud, probamos con buscar las palabras en _dict de longitud menor o igual al tamaño de available_letters, y usando wordsOfLength conseguimos un vector palabras de dicha longitud. Luego con wordHasLetters hacemos que cada palabra del vector de única longitud que contenga las letras introducidas se añada a otro vector, que justo después se mira si está vacío, y si está vacío probamos con una longitud menor.</p>
<p>Llamando r al tamaño de _dict, n el número de letras del vector parámetro available_letters.</p>
<p>El peor caso es encontrar una palabra de longitud 1, ya que entonces miraremos en todas las longitudes hasta llegar a uno, y se aplica wordsOfLength n veces, y al final wordHasLetters se aplica a todas las palabras de _dict con longitud menor o igual a n, donde si todas las palabras de _dict entran en ese criterio, es aún peor.</p>
<p>n*r + r*n²--&gt; O(rn²) que al ser fijo el diccionario interno, O(n²).</p>
<hr  />
<h1><a class="anchor" id="Ejecutable"></a>
Ejecutable</h1>
<h2><a class="anchor" id="Partida_letras"></a>
Partida_letras</h2>
<p>Ejecutable para probar la implementación de <a class="el" href="solver_8h.html" title="Archivo de declaración de la clase Solver.">solver.h</a>: partida_letras.cpp</p>
<p>Recibe como argumentos:</p>
<ol type="1">
<li>Ruta al archivo que contiene las letras y su puntuación</li>
<li>Ruta al archivo que contiene el diccionario</li>
<li>Modo de juego (L = longitud, P = puntuación)</li>
<li>Cantidad de letras para la partida</li>
</ol>
<p>Construye el <a class="el" href="classLettersSet.html" title="TDA LettersSet.">LettersSet</a> para la partida a partir del archivo de letras, el <a class="el" href="classDictionary.html">Dictionary</a> con las palabras que se consideran soluciones correctas, el solver que va a jugar la partida y la <a class="el" href="classLettersBag.html">LettersBag</a> que se utiliza para extraer las letras.</p>
<p>Una vez construidos los TDAs necesarios, se extraen las letras con las que se juegan la partida, utiliza el solver para buscar las soluciones, e imprime por pantalla tanto las letras para la partida como las mejores soluciones que se pueden obtener con dichas letras y la puntuación de dichas soluciones.</p>
<p>A modo de ejemplo, la salida del programa DEBE ser la siguiente:</p>
<blockquote class="doxtable">
<p>./build/partida_letras data/letras.txt data/diccionario.txt L 9 </p>
</blockquote>
<p>LETRAS DISPONIBLES:</p>
<p>D S N T D A I E N</p>
<p>SOLUCIONES:</p>
<p>dentina</p>
<p>entidad</p>
<p>sentina</p>
<p>PUNTUACION:</p>
<p>7 </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
